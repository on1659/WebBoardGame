/* ===== 공통 스타일 ===== */
.piece {
  position: relative;
  width: 85%;
  height: 92%;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  transition: transform var(--transition-fast);
}

.selected {
  transform: scale(1.08);
}

/* 바닥 그림자 */
.shadow {
  position: absolute;
  bottom: 0;
  width: 85%;
  height: 8%;
  border-radius: 50%;
  z-index: 0;
}

.white .shadow {
  background: radial-gradient(ellipse, rgba(100, 80, 60, 0.45) 0%, transparent 70%);
}

.black .shadow {
  background: radial-gradient(ellipse, rgba(0, 0, 0, 0.55) 0%, transparent 70%);
}

/* ===== 색상 변수 ===== */

/* 백 기물 그라데이션 */
.white .kingBase, .white .queenBase, .white .rookBase,
.white .bishopBase, .white .knightBase, .white .pawnBase {
  background: linear-gradient(to right, #c8c4bc 0%, #f8f6f0 25%, #fffef8 50%, #f8f6f0 75%, #b8b4a8 100%);
}

.white .kingBody, .white .queenBody, .white .rookBody,
.white .bishopBody, .white .knightBody, .white .pawnBody,
.white .kingNeck, .white .queenNeck, .white .bishopNeck,
.white .knightNeck, .white .pawnNeck {
  background: linear-gradient(to right, #d0ccc4 0%, #faf8f2 25%, #fffef8 50%, #faf8f2 75%, #c0b8ac 100%);
}

.white .kingHead, .white .queenHead, .white .rookTop,
.white .bishopHead, .white .knightHead, .white .knightFace, .white .pawnHead {
  background: linear-gradient(to right, #d8d4cc 0%, #fcfaf4 25%, #fffef8 50%, #fcfaf4 75%, #c8c0b4 100%);
}

/* 흑 기물 그라데이션 */
.black .kingBase, .black .queenBase, .black .rookBase,
.black .bishopBase, .black .knightBase, .black .pawnBase {
  background: linear-gradient(to right, #1a1a1a 0%, #3a3a3a 25%, #484848 50%, #3a3a3a 75%, #1a1a1a 100%);
}

.black .kingBody, .black .queenBody, .black .rookBody,
.black .bishopBody, .black .knightBody, .black .pawnBody,
.black .kingNeck, .black .queenNeck, .black .bishopNeck,
.black .knightNeck, .black .pawnNeck {
  background: linear-gradient(to right, #222 0%, #444 25%, #555 50%, #444 75%, #222 100%);
}

.black .kingHead, .black .queenHead, .black .rookTop,
.black .bishopHead, .black .knightHead, .black .knightFace, .black .pawnHead {
  background: linear-gradient(to right, #2a2a2a 0%, #4a4a4a 25%, #5a5a5a 50%, #4a4a4a 75%, #2a2a2a 100%);
}

/* ===== 킹 (King) ===== */
.king {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
}

.kingCross {
  position: relative;
  width: 35%;
  height: 22%;
  flex-shrink: 0;
}

.crossVertical {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 30%;
  height: 100%;
  border-radius: 2px;
}

.crossHorizontal {
  position: absolute;
  top: 25%;
  left: 0;
  width: 100%;
  height: 30%;
  border-radius: 2px;
}

.white .crossVertical, .white .crossHorizontal {
  background: linear-gradient(to right, #c9a227 0%, #ffd700 35%, #ffec8b 50%, #ffd700 65%, #c9a227 100%);
  box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.black .crossVertical, .black .crossHorizontal {
  background: linear-gradient(to right, #8b7500 0%, #bfa300 35%, #d4b800 50%, #bfa300 65%, #8b7500 100%);
}

.kingHead {
  width: 45%;
  height: 12%;
  border-radius: 50% 50% 30% 30%;
  flex-shrink: 0;
}

.kingNeck {
  width: 35%;
  height: 8%;
  flex-shrink: 0;
}

.kingBody {
  width: 55%;
  height: 30%;
  border-radius: 5% 5% 20% 20%;
  flex-shrink: 0;
}

.kingBase {
  width: 80%;
  height: 18%;
  border-radius: 10% 10% 45% 45% / 10% 10% 100% 100%;
  flex-shrink: 0;
}

/* ===== 퀸 (Queen) ===== */
.queen {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
}

.queenCrown {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  width: 70%;
  height: 20%;
  gap: 1px;
  flex-shrink: 0;
}

.spike {
  width: 18%;
  height: 100%;
  clip-path: polygon(50% 0%, 10% 100%, 90% 100%);
}

.white .spike {
  background: linear-gradient(to right, #9b59b6 0%, #d4a5e8 40%, #e8d0f0 50%, #d4a5e8 60%, #9b59b6 100%);
}

.black .spike {
  background: linear-gradient(to right, #4a2060 0%, #7b4a9b 40%, #8b5aab 50%, #7b4a9b 60%, #4a2060 100%);
}

.spike:nth-child(3) {
  height: 115%;
}

.queenHead {
  width: 50%;
  height: 10%;
  border-radius: 50%;
  margin-top: -2%;
  flex-shrink: 0;
}

.queenNeck {
  width: 32%;
  height: 8%;
  flex-shrink: 0;
}

.queenBody {
  width: 50%;
  height: 32%;
  border-radius: 20% 20% 30% 30%;
  flex-shrink: 0;
}

.queenBase {
  width: 75%;
  height: 18%;
  border-radius: 10% 10% 45% 45% / 10% 10% 100% 100%;
  flex-shrink: 0;
}

/* ===== 룩 (Rook) ===== */
.rook {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
}

.rookBattlement {
  display: flex;
  justify-content: center;
  width: 65%;
  height: 15%;
  flex-shrink: 0;
}

.merlon {
  width: 28%;
  height: 100%;
}

.white .merlon {
  background: linear-gradient(to right, #c8c4bc 0%, #f8f6f0 30%, #fffef8 50%, #f8f6f0 70%, #b8b4a8 100%);
}

.black .merlon {
  background: linear-gradient(to right, #222 0%, #444 30%, #555 50%, #444 70%, #222 100%);
}

.crenel {
  width: 14%;
  height: 50%;
  align-self: flex-end;
  background: transparent;
}

.rookTop {
  width: 65%;
  height: 12%;
  flex-shrink: 0;
}

.rookBody {
  width: 50%;
  height: 45%;
  flex-shrink: 0;
}

.rookBase {
  width: 75%;
  height: 18%;
  border-radius: 5% 5% 40% 40% / 5% 5% 100% 100%;
  flex-shrink: 0;
}

/* ===== 비숍 (Bishop) ===== */
.bishop {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
}

.bishopTop {
  width: 12%;
  height: 8%;
  border-radius: 50%;
  flex-shrink: 0;
}

.white .bishopTop {
  background: linear-gradient(to right, #d0ccc4 0%, #fcfaf4 50%, #c0b8ac 100%);
}

.black .bishopTop {
  background: linear-gradient(to right, #333 0%, #555 50%, #333 100%);
}

.bishopHead {
  position: relative;
  width: 40%;
  height: 28%;
  clip-path: polygon(50% 0%, 10% 85%, 20% 100%, 80% 100%, 90% 85%);
  flex-shrink: 0;
}

.bishopSlit {
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translateX(-50%) rotate(-35deg);
  width: 4px;
  height: 35%;
  background: rgba(0, 0, 0, 0.6);
  border-radius: 2px;
}

.black .bishopSlit {
  background: rgba(255, 255, 255, 0.15);
}

.bishopNeck {
  width: 28%;
  height: 8%;
  flex-shrink: 0;
}

.bishopBody {
  width: 45%;
  height: 30%;
  border-radius: 15% 15% 30% 30%;
  flex-shrink: 0;
}

.bishopBase {
  width: 70%;
  height: 18%;
  border-radius: 10% 10% 45% 45% / 10% 10% 100% 100%;
  flex-shrink: 0;
}

/* ===== 나이트 (Knight) ===== */
.knight {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
}

.knightEar {
  width: 15%;
  height: 12%;
  border-radius: 50% 50% 20% 20%;
  margin-left: -15%;
  flex-shrink: 0;
}

.white .knightEar {
  background: linear-gradient(to right, #c8c0b4 0%, #f0ece4 50%, #d8d0c4 100%);
}

.black .knightEar {
  background: linear-gradient(to right, #2a2a2a 0%, #4a4a4a 50%, #3a3a3a 100%);
}

.knightHead {
  width: 50%;
  height: 18%;
  border-radius: 60% 40% 30% 30%;
  margin-top: -8%;
  margin-left: -10%;
  flex-shrink: 0;
}

.knightFace {
  position: relative;
  width: 35%;
  height: 20%;
  border-radius: 30% 60% 50% 40%;
  margin-left: 15%;
  margin-top: -5%;
  flex-shrink: 0;
}

.knightEye {
  position: absolute;
  top: 25%;
  left: 55%;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #1a1a1a;
}

.black .knightEye {
  background: #888;
}

.knightNostril {
  position: absolute;
  bottom: 20%;
  right: 15%;
  width: 4px;
  height: 5px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.4);
}

.black .knightNostril {
  background: rgba(0, 0, 0, 0.6);
}

.knightNeck {
  width: 40%;
  height: 12%;
  margin-left: 5%;
  flex-shrink: 0;
}

.knightBody {
  width: 50%;
  height: 18%;
  border-radius: 20%;
  flex-shrink: 0;
}

.knightBase {
  width: 70%;
  height: 16%;
  border-radius: 10% 10% 45% 45% / 10% 10% 100% 100%;
  flex-shrink: 0;
}

/* ===== 폰 (Pawn) ===== */
.pawn {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  z-index: 1;
}

.pawnHead {
  width: 40%;
  height: 22%;
  border-radius: 50%;
  flex-shrink: 0;
}

.pawnNeck {
  width: 25%;
  height: 10%;
  flex-shrink: 0;
}

.pawnBody {
  width: 45%;
  height: 30%;
  border-radius: 20% 20% 35% 35%;
  flex-shrink: 0;
}

.pawnBase {
  width: 65%;
  height: 20%;
  border-radius: 10% 10% 45% 45% / 10% 10% 100% 100%;
  flex-shrink: 0;
}

/* ===== 호버 효과 ===== */
@media (hover: hover) {
  .piece:hover {
    transform: translateY(-3px);
  }

  .selected:hover {
    transform: scale(1.08) translateY(-3px);
  }
}

/* ===== 선택 애니메이션 ===== */
.selected {
  animation: pieceSelect 0.2s ease-out;
}

@keyframes pieceSelect {
  0% { transform: scale(1); }
  50% { transform: scale(1.12); }
  100% { transform: scale(1.08); }
}
